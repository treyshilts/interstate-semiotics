<!DOCTYPE html>
<html>
<head>
    <title>interstate semiotics</title>
    <style> body { font-family: times-new-roman; } </style>
</head>
<body>
        <img src="stretchhighway.png" alt="hi" width="700px">
        <h1>etc</h1>
        <br>
        <p>ongoing internet posts and writing of trey shilts</p>
        <br>
        <p> <a href="https://bathroomposting.substack.com/">email list</a> | <a href="https://www.finnishpostcard.com/">finnish postcard site</a> </p>
    <h3>/*/*/*/*/*/*/*/*/</h3>
        <script>
            async function fetchSubstackFeed() {
                const url = 'https://bathroomposting.substack.com/feed';
                
                try {
                    const response = await fetch(url);
                    if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                    
                    const text = await response.text(); // Getting raw XML text
                    const parser = new DOMParser();
                    const xml = parser.parseFromString(text, "application/xml");
                    
                    const items = xml.querySelectorAll('item'); // Get all <item> entries
                    const feedContainer = document.getElementById('feed');
                    feedContainer.innerHTML = '';
        
                    items.forEach(item => {
                        const title = item.querySelector('title')?.textContent;
                        const link = item.querySelector('link')?.textContent;
                        const pubDate = new Date(item.querySelector('pubDate')?.textContent).toLocaleDateString();
                        
                        // Extract content:encoded using namespace-aware method
                        const content = item.getElementsByTagName('content:encoded')[0]?.textContent || '';
                        
                        const postElement = document.createElement('div');
                        postElement.classList.add('post');
                        
                        postElement.innerHTML = `
                            <h2><a href="${link}" target="_blank">${title}</a></h2>
                            <div>${content}</div>
                            <p><strong>Published:</strong> ${pubDate}</p>
                        `;
        
                        feedContainer.appendChild(postElement);
                    });
                } catch (error) {
                    console.error('Failed to fetch feed:', error);
                }
            }
        
            fetchSubstackFeed();
        </script>
    
</body>
</html>
