<!DOCTYPE html>
<html>
<head>
    <title>interstate semiotics</title>
    <style> body { font-family: times-new-roman; } </style>
</head>
<body>
        <img src="stretchhighway.png" alt="hi" width="700px">
        <h1>etc</h1>
        <br>
        <p>ongoing internet posts and writing of trey shilts</p>
        <br>
        <p> <a href="https://bathroomposting.substack.com/">email list</a> | <a href="https://www.finnishpostcard.com/">finnish postcard site</a> </p>
    <h3>/*/*/*/*/*/*/*/*/</h3>
    <div id="feed">Loading...</div>
        <script>
            async function fetchSubstackFeed() {
                const url = 'https://bathroomposting.substack.com/feed';
                const response = await fetch(url);
                const text = await response.text();
                
                // Parse the XML feed
                const parser = new DOMParser();
                const xml = parser.parseFromString(text, "application/xml");
                
                const feedContainer = document.getElementById('feed');
                feedContainer.innerHTML = '';
        
                const items = xml.querySelectorAll('item'); // Selects all <item> elements
                
                items.forEach(item => {
                    const title = item.querySelector('title').textContent;
                    const link = item.querySelector('link').textContent;
                    const pubDate = new Date(item.querySelector('pubDate').textContent).toLocaleDateString();
                    const description = item.querySelector('description').textContent;
                    
                    // Safely handle content:encoded, considering namespace issues
                    const contentEncoded = item.querySelector('content\\:encoded, encoded')?.textContent || '';
        
                    // Create the post element and append to the feed
                    const postElement = document.createElement('div');
                    postElement.classList.add('post');
                    postElement.innerHTML = `
                        <h2><a href="${link}" target="_blank">${title}</a></h2>
                        <p><strong>Published:</strong> ${pubDate}</p>
                        <p>${description}</p>
                        <div>${contentEncoded}</div> 
                    `;
        
                    feedContainer.appendChild(postElement);
                });
            }
        
            fetchSubstackFeed();
        </script>
    
</body>
</html>
